<!DOCTYPE html>
<html>

<head>
    <title>M3U8 Player</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <style>
        body {
            width: 70%;
            margin: auto;
        }
    </style>
    <link href="https://vjs.zencdn.net/7.20.3/video-js.css" rel="stylesheet" />
</head>

<body onload="loaded()">
    <h1 id="title"></h1>
    <div class="video-js-responsive-container vjs-hd">
        <video id="my-player" class="video-js vjs-default-skin vjs-big-play-centered vjs-fluid" controls preload="auto"
            data-setup='{}'>
            <p class="vjs-no-js">
                To view this video please enable JavaScript, and consider upgrading to a
                web browser that
                <a href="https://videojs.com/html5-video-support/" target="_blank">
                    supports HTML5 video
                </a>
            </p>
        </video>

        <script src="https://vjs.zencdn.net/7.20.3/video.min.js"></script>
        <script>
            function loaded() {
                const queryString = window.location.search;
                const urlParams = new URLSearchParams(queryString);

                document.title = urlParams.get("title");
                const eleTitle = document.getElementById("title");
                eleTitle.innerHTML = urlParams.get("title");

                console.log(urlParams.get("url"))
                const player = videojs('my-player');
                player.src({
                    src: urlParams.get("url"),
                    type: "application/x-mpegURL"
                })
                player.currentTime(urlParams.get("position") - 10 || 0)
            }
        </script>
</body>

</html>